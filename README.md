Readme 파일 테스트

1. 패키지: com.ehs.EHS01.EHS01001 (제품 및 성분 관리)
이 패키지는 제품(Item)의 마스터 정보와 해당 제품을 구성하는 성분(Material), 그리고 적용되는 규제(Regulation) 정보를 통합 관리하는 핵심 모듈입니다.

📂 파일별 분석 & 비즈니스 로직
파일명	역할 및 주요 로직
EHS01001Controller	API 진입점- 제품 목록(searchH) 및 상세(searchD) 조회- 제품 저장/복사/삭제/복구 트랜잭션 처리- 부서, 공정, 성분 등 기초 코드 조회 API 제공
EHS01001Service	인터페이스- 제품 및 성분 관리에 필요한 메서드 명세 정의
EHS01001ServiceImpl	비즈니스 로직 구현체- 복합 조회: searchDList에서 제품 기본 정보, 성분 목록(Mt), 규제 목록(Regul)을 각각 조회하여 하나의 DTO(EHS01001SearchDResultDTO)로 조립합니다.- JSON 직렬화 저장: saveItem, copyItem 메서드에서 성분 목록(mtData)과 규제 목록(regulData)을 Java 객체 리스트에서 JSON 문자열로 변환(ObjectMapper 사용)하여 DB에 전달합니다. (DB 프로시저 등에서 JSON 파싱을 수행하는 구조로 추정)- 트랜잭션: 제품의 저장, 삭제, 복구 등의 트랜잭션 단위를 관리합니다.
EHS01001Repository	데이터 접근 계층- MyBatis Mapper ID와 매핑되는 메서드 정의
🗄️ 추정되는 주 테이블
제품 마스터 테이블: 제품 기본 정보 (PID, 이름, 부서, 공정 등)
제품-성분/규제 관계: JSON 형태로 저장되거나, 프로시저를 통해 분리되어 저장되는 1:N 관계 테이블
기초 코드: 부서(Dept), 공정(Gong), 성분 마스터(Mt)
2. 패키지: com.ehs.EHS01.EHS01002 (제품 용도/보관/단위 코드 관리)
제품 관리에 사용되는 기초 코드(용도, 보관 방법, 단위 등)를 관리하는 모듈입니다.

📂 파일별 분석 & 비즈니스 로직
파일명	역할 및 주요 로직
EHS01002Controller	API 진입점- 코드 조회, 저장, 삭제 API
EHS01002ServiceImpl	비즈니스 로직 구현체- 일괄 저장 및 롤백: saveCode에서 리스트 형태의 DTO를 받아 반복문으로 저장합니다. 저장 결과(chk)가 "X"일 경우 RuntimeException을 발생시켜 전체 트랜잭션을 롤백합니다.- 삭제: 단순 삭제 로직을 수행하며 에러 메시지를 반환합니다.
🗄️ 추정되는 주 테이블
공통 코드 테이블: 제품 용도, 보관 방법, 단위 등을 통합 관리하거나 각각 관리하는 코드 테이블
3. 패키지: com.ehs.EHS01.EHS01003 (규제 성분 관리)
화학 물질이나 성분에 대한 각종 규제 정보(유해화학물질 여부, 관리 대상 여부 등)를 관리합니다.

📂 파일별 분석 & 비즈니스 로직
파일명	역할 및 주요 로직
EHS01003Controller	API 진입점- 규제 성분 목록/상세 조회- 규제 정보 저장/삭제
EHS01003ServiceImpl	비즈니스 로직 구현체- UI 포맷팅 (Data Formatting): searchHList 조회 후 markYesNo 메서드를 통해 DB의 "Y" 값을 화면 표시용 특수기호 **"✓"**로 변환합니다. (IsManaged, IsAcute 등 다수의 Flag 컬럼 대상)- 일괄 저장: 002번과 마찬가지로 리스트 단위 저장 및 에러 시 롤백(@Transactional) 처리를 수행합니다.
🗄️ 추정되는 주 테이블
규제 성분 마스터 테이블: 성분별 각종 규제 여부(유독물, 사고대비물질, 제한물질 등 Y/N Flag)를 저장하는 테이블
4. 패키지: com.ehs.EHS01.EHS01004 (EHS 작업/분류 관리)
EHS 관련 작업(Task)과 작업 그룹(Task Group)을 계층적으로 관리하는 모듈입니다.

📂 파일별 분석 & 비즈니스 로직
파일명	역할 및 주요 로직
EHS01004Controller	API 진입점- 작업 그룹(Group) 조회/저장/삭제- 상세 작업(Ref Task) 조회/저장/삭제
EHS01004ServiceImpl	비즈니스 로직 구현체- 삭제 유효성 검사: deleteTaskGp 수행 시 findByGroupCode를 먼저 호출하여 하위 데이터가 존재하는지 확인하고, 존재할 경우 삭제를 막고 메시지를 반환합니다.- 데이터 변환 저장: saveRefTask에서 입력받은 DTO를 엔티티 성격의 DTO(EhsTaskDTO)로 변환하면서 등록일/수정일(LocalDateTime.now()) 등의 메타 데이터를 주입하여 저장합니다.
🗄️ 추정되는 주 테이블
작업 그룹 테이블: 작업의 대분류/그룹 정보
작업 상세 테이블: 실제 작업 항목 정보 (그룹 코드와 FK 관계 추정)
📊 요약
EHS01001 (제품): JSON 직렬화를 통해 복잡한 계층 데이터(성분, 규제)를 DB로 전달하는 것이 특징입니다.
EHS01002 (기초코드): 리스트 단위의 트랜잭션 롤백 처리가 구현되어 있습니다.
EHS01003 (규제): Y/N 데이터를 시각적 기호(✓)로 변환하는 뷰 로직이 서비스 계층에 포함되어 있습니다.
EHS01004 (작업): 하위 데이터 존재 여부 체크를 통한 삭제 방어 로직이 있습니다.
